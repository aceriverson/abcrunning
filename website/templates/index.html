{% extends "layout.html" %}

{% block title %}
    Home
{% endblock %}

{% block main %}

    <h2>Activity Feed</h2>

    <div class="row">
        <div class="column">
            <br>
            {% if activityids %}
            <h4>Connections</h4>
            {% else %}
            <h5><a href="/joingroup">Make connections</a></h5>
            {% endif %}
            {% for j in i %}

                <div style="padding: 15px;">
                    <table style="border: 1px solid #1C6EA4; width: 500px; margin-left:auto; margin-right:auto; background-color: #e3f2fd;" height="90">
                        <caption style="font-size: small;">{{ timestamps[j] }} | {%if z[j] == 2%} {{groupsdict[userids[j]][0][0]['name']}} and {{groupsdict[userids[j]][0][1]['name']}} {%elif z[j] == 1%} {{groupsdict[userids[j]][0][0]['name']}} {%else%} {%for d in range(z[j]-1)%} {{groupsdict[userids[j]][0][d]['name']}}, {%endfor%} and {{groupsdict[userids[j]][0][z[j]-1]['name']}} {%endif%}</caption>
                        <tr style="padding: 5px;">
                            <th colspan="3" style="font-weight: normal; font-size: large; text-align: center; background-color: #e3f2fd;"><a href="http://c39b246a-e4b7-42a8-b7b5-311ddf429b1b-ide.cs50.xyz/profile?userid={{ userids[j] }}&page=1">{{ users[j] }}</a> recorded <a href="http://c39b246a-e4b7-42a8-b7b5-311ddf429b1b-ide.cs50.xyz/activity?activityid={{ activityids[j] }}">{{ names[j] }}</a></th>
                        </tr>
                        <tr style="padding: 5px; background-color: #D0E4F5">
                            <th colspan="3" style="font-weight: normal; font-size: normal; text-align: center; background-color: #e3f2fd;">{{ types[j] }}</th>
                        </tr>
                        <tr style="text-align: center; padding: 5px">
                            <td style="font-size: large; background-color:white;"><b>Distance:</b><br>{{ distances[j] }} mi</td>
                            <td style="font-size: large; background-color:white;"><b>Total Time:</b><br>{{ times[j] }}</td>
                            <td style="font-size: large; background-color:white;"><b>Pace:</b><br>{{ paces[j] }}/mi</td>
                        </tr>
                    </table>
                </div>

            {% endfor %}
        </div>
        <div class="column">
            <br>
            {% if persactivityids %}
            <h4>Personal</h4>
            {% else %}
            <h5><a href="/new">Log activities</a></h5>
            {% endif %}
            {% for l in k %}

                <div style="padding: 15px;">
                    <table style="border: 1px solid #1C6EA4; width: 500px; margin-left:auto; margin-right:auto; background-color: #e3f2fd;">
                        <caption style="font-size: small;">{{ perstimestamps[l] }}</caption>
                        <tr style="padding: 5px;">
                            <th colspan="3" style="font-weight: normal; font-size: large; text-align: center; background-color: #e3f2fd;"><a href="http://c39b246a-e4b7-42a8-b7b5-311ddf429b1b-ide.cs50.xyz/activity?activityid={{ persactivityids[l] }}">{{ persnames[l] }}</a></th>
                        </tr>
                        <tr style="padding: 5px; background-color: #D0E4F5">
                            <th colspan="3" style="font-weight: normal; font-size: normal; text-align: center; background-color: #e3f2fd;">{{ perstypes[l] }}</th>
                        </tr>
                        <tr style="text-align: center; padding: 5px">
                            <td style="font-size: large ; background-color:white;"><b>Distance:</b><br>{{ persdistances[l] }} mi</td>
                            <td style="font-size: large; background-color:white;"><b>Total Time:</b><br>{{ perstimes[l] }}</td>
                            <td style="font-size: large; background-color:white;"><b>Pace:</b><br>{{ perspaces[l] }}/mi</td>
                        </tr>
                    </table>
                </div>

            {% endfor %}
        </div>
    </div>


{% endblock %}